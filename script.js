(function(){const email=document.body.getAttribute('data-email');const modal=document.querySelector('#mailModal');document.querySelectorAll('[data-mailto]').forEach(a=>{a.addEventListener('click',function(e){const href=this.getAttribute('href');const s=this.getAttribute('data-subject')||'';try{window.location.href=href;}catch(_){ }if(modal){modal.querySelector('.subject').value=s;modal.classList.add('open');}e.preventDefault();});});document.querySelectorAll('[data-modal-close]').forEach(btn=>btn.addEventListener('click',()=>modal.classList.remove('open')));document.querySelector('#gmailOpen')?.addEventListener('click',()=>{const s=modal.querySelector('.subject').value||'';const url='https://mail.google.com/mail/?view=cm&to='+encodeURIComponent(email)+'&su='+encodeURIComponent(s);window.open(url,'_blank');});document.querySelector('#copyEmail')?.addEventListener('click',()=>navigator.clipboard.writeText(email));})();